import{d as W,i as Be,u as ie,_ as ce,a as Ie,b as Ne,c as G,e as M,f as l,g as t,C as Se,h as z,j as Fe,P as A,B as V,k as se,F as Ae,r as w,o as ue,l as de,m as Oe,I as $e,n as Re,p as De,E as fe,q as ee,s as Le,t as je,v as Ee,w as Me,x as ne,y as E,z as h,A as te,D as ae,G as ze}from"./index-f434bbd9.js";import{D as Ve,c as We,_ as qe}from"./index-0be9cb0e.js";import{a as Ue}from"./index-d7968dbb.js";import{b as oe}from"./route-block-83d24a4e.js";var Ge=["prefixCls","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"],X=null,Xe=function(e){X={x:e.pageX,y:e.pageY},setTimeout(function(){return X=null},100)};We()&&Fe(document.documentElement,"click",Xe,!0);var Ye=function(){return{prefixCls:String,visible:{type:Boolean,default:void 0},confirmLoading:{type:Boolean,default:void 0},title:A.any,closable:{type:Boolean,default:void 0},closeIcon:A.any,onOk:Function,onCancel:Function,"onUpdate:visible":Function,onChange:Function,afterClose:Function,centered:{type:Boolean,default:void 0},width:[String,Number],footer:A.any,okText:A.any,okType:String,cancelText:A.any,icon:A.any,maskClosable:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},okButtonProps:Object,cancelButtonProps:Object,destroyOnClose:{type:Boolean,default:void 0},wrapClassName:String,maskTransitionName:String,transitionName:String,getContainer:{type:[String,Function,Boolean,Object],default:void 0},zIndex:Number,bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},mask:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},wrapProps:Object,focusTriggerAfterClose:{type:Boolean,default:void 0},modalRender:Function}},O=[];const k=W({compatConfig:{MODE:3},name:"AModal",inheritAttrs:!1,props:Be(Ye(),{width:520,transitionName:"zoom",maskTransitionName:"fade",confirmLoading:!1,visible:!1,okType:"primary"}),setup:function(e,g){var s=g.emit,o=g.slots,x=g.attrs,m=ie("Modal"),u=ce(m,1),d=u[0],v=Ie("modal",e),i=v.prefixCls,a=v.rootPrefixCls,c=v.direction,r=v.getPopupContainer,f=function(C){s("update:visible",!1),s("cancel",C),s("change",!1)},b=function(C){s("ok",C)},y=function(){var C,P,B=e.okText,$=B===void 0?(C=o.okText)===null||C===void 0?void 0:C.call(o):B,I=e.okType,_=e.cancelText,N=_===void 0?(P=o.cancelText)===null||P===void 0?void 0:P.call(o):_,S=e.confirmLoading;return l(Ae,null,[l(V,t({onClick:f},e.cancelButtonProps),{default:function(){return[N||d.value.cancelText]}}),l(V,t(t({},se(I)),{},{loading:S,onClick:b},e.okButtonProps),{default:function(){return[$||d.value.okText]}})])};return function(){var p,C;e.prefixCls;var P=e.visible,B=e.wrapClassName,$=e.centered,I=e.getContainer,_=e.closeIcon,N=_===void 0?(p=o.closeIcon)===null||p===void 0?void 0:p.call(o):_,S=e.focusTriggerAfterClose,F=S===void 0?!0:S,q=Ne(e,Ge),L=G(B,(C={},M(C,"".concat(i.value,"-centered"),!!$),M(C,"".concat(i.value,"-wrap-rtl"),c.value==="rtl"),C));return l(Ve,t(t(t({},q),x),{},{getContainer:I||r.value,prefixCls:i.value,wrapClassName:L,visible:P,mousePosition:X,onClose:f,focusTriggerAfterClose:F,transitionName:z(a.value,"zoom",e.transitionName),maskTransitionName:z(a.value,"fade",e.maskTransitionName)}),t(t({},o),{},{footer:o.footer||y,closeIcon:function(){return l("span",{class:"".concat(i.value,"-close-x")},[N||l(Se,{class:"".concat(i.value,"-close-icon")},null)])}}))}}});var He=function(){var e=w(!1);return ue(function(){e.value=!0}),e};const Je=He;var Ke={type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:Object,emitEvent:Boolean,quitOnNullishReturnValue:Boolean};function le(n){return!!(n&&n.then)}const re=W({compatConfig:{MODE:3},name:"ActionButton",props:Ke,setup:function(e,g){var s=g.slots,o=w(!1),x=w(),m=w(!1),u,d=Je();de(function(){e.autofocus&&(u=setTimeout(function(){var a;return(a=x.value.$el)===null||a===void 0?void 0:a.focus()}))}),ue(function(){clearTimeout(u)});var v=function(c){var r=e.close;le(c)&&(m.value=!0,c.then(function(){d.value||(m.value=!1),r.apply(void 0,arguments),o.value=!1},function(f){console.error(f),d.value||(m.value=!1),o.value=!1}))},i=function(c){var r=e.actionFn,f=e.close,b=f===void 0?function(){}:f;if(!o.value){if(o.value=!0,!r){b();return}var y;if(e.emitEvent){if(y=r(c),e.quitOnNullishReturnValue&&!le(y)){o.value=!1,b(c);return}}else if(r.length)y=r(b),o.value=!1;else if(y=r(),!y){b();return}v(y)}};return function(){var a=e.type,c=e.prefixCls,r=e.buttonProps;return l(V,t(t(t({},se(a)),{},{onClick:i,loading:m.value,prefixCls:c},r),{},{ref:x}),s)}}});function R(n){return typeof n=="function"?n():n}const Qe=W({name:"ConfirmDialog",inheritAttrs:!1,props:["icon","onCancel","onOk","close","closable","zIndex","afterClose","visible","keyboard","centered","getContainer","maskStyle","okButtonProps","cancelButtonProps","okType","prefixCls","okCancel","width","mask","maskClosable","okText","cancelText","autoFocusButton","transitionName","maskTransitionName","type","title","content","direction","rootPrefixCls","bodyStyle","closeIcon","modalRender","focusTriggerAfterClose","wrapClassName"],setup:function(e,g){var s=g.attrs,o=ie("Modal"),x=ce(o,1),m=x[0];return function(){var u=e.icon,d=e.onCancel,v=e.onOk,i=e.close,a=e.closable,c=a===void 0?!1:a,r=e.zIndex,f=e.afterClose,b=e.visible,y=e.keyboard,p=e.centered,C=e.getContainer,P=e.maskStyle,B=e.okButtonProps,$=e.cancelButtonProps,I=e.okCancel,_=I===void 0?!0:I,N=e.width,S=N===void 0?416:N,F=e.mask,q=F===void 0?!0:F,L=e.maskClosable,Y=L===void 0?!1:L,H=e.type,J=e.title,ve=e.content,Ce=e.direction,ge=e.closeIcon,ye=e.modalRender,ke=e.focusTriggerAfterClose,j=e.rootPrefixCls,be=e.bodyStyle,xe=e.wrapClassName,pe=e.okType||"primary",U=e.prefixCls||"ant-modal",T="".concat(U,"-confirm"),Te=s.style||{},_e=R(e.okText)||(_?m.value.okText:m.value.justOkText),he=R(e.cancelText)||m.value.cancelText,K=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",Pe=G(T,"".concat(T,"-").concat(H),"".concat(U,"-").concat(H),M({},"".concat(T,"-rtl"),Ce==="rtl"),s.class),we=_&&l(re,{actionFn:d,close:i,autofocus:K==="cancel",buttonProps:$,prefixCls:"".concat(j,"-btn")},{default:function(){return[he]}});return l(k,{prefixCls:U,class:Pe,wrapClassName:G(M({},"".concat(T,"-centered"),!!p),xe),onCancel:function(Z){return i({triggerCancel:!0},Z)},visible:b,title:"",footer:"",transitionName:z(j,"zoom",e.transitionName),maskTransitionName:z(j,"fade",e.maskTransitionName),mask:q,maskClosable:Y,maskStyle:P,style:Te,bodyStyle:be,width:S,zIndex:r,afterClose:f,keyboard:y,centered:p,getContainer:C,closable:c,closeIcon:ge,modalRender:ye,focusTriggerAfterClose:ke},{default:function(){return[l("div",{class:"".concat(T,"-body-wrapper")},[l("div",{class:"".concat(T,"-body")},[R(u),J===void 0?null:l("span",{class:"".concat(T,"-title")},[R(J)]),l("div",{class:"".concat(T,"-content")},[R(ve)])]),l("div",{class:"".concat(T,"-btns")},[we,l(re,{type:pe,actionFn:v,close:i,autofocus:K==="ok",buttonProps:B,prefixCls:"".concat(j,"-btn")},{default:function(){return[_e]}})])])]}})}}});var Ze=function(e){var g=document.createDocumentFragment(),s=t(t({},Oe(e,["parentContext","appContext"])),{},{close:m,visible:!0}),o=null;function x(){o&&(ee(null,g),o.component.update(),o=null);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];var r=a.some(function(y){return y&&y.triggerCancel});e.onCancel&&r&&e.onCancel.apply(e,a);for(var f=0;f<O.length;f++){var b=O[f];if(b===m){O.splice(f,1);break}}}function m(){for(var i=this,a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];s=t(t({},s),{},{visible:!1,afterClose:function(){typeof e.afterClose=="function"&&e.afterClose(),x.apply(i,c)}}),u(s)}function u(i){typeof i=="function"?s=i(s):s=t(t({},s),i),o&&(Le(o.component.props,s),o.component.update())}var d=function(a){var c=Ee,r=c.prefixCls,f=a.prefixCls||"".concat(r,"-modal");return l(je,t(t({},c),{},{notUpdateGlobalConfig:!0,prefixCls:r}),{default:function(){return[l(Qe,t(t({},a),{},{rootPrefixCls:r,prefixCls:f}),null)]}})};function v(i){var a=l(d,t({},i));return a.appContext=e.parentContext||e.appContext||a.appContext,ee(a,g),a}return o=v(s),O.push(m),{destroy:m,update:u}};const D=Ze;function en(n){return t(t({icon:function(){return l(fe,null,null)},okCancel:!1},n),{},{type:"warning"})}function nn(n){return t(t({icon:function(){return l($e,null,null)},okCancel:!1},n),{},{type:"info"})}function tn(n){return t(t({icon:function(){return l(Re,null,null)},okCancel:!1},n),{},{type:"success"})}function an(n){return t(t({icon:function(){return l(De,null,null)},okCancel:!1},n),{},{type:"error"})}function on(n){return t(t({icon:function(){return l(fe,null,null)},okCancel:!0},n),{},{type:"confirm"})}function me(n){return D(en(n))}k.info=function(e){return D(nn(e))};k.success=function(e){return D(tn(e))};k.error=function(e){return D(an(e))};k.warning=me;k.warn=me;k.confirm=function(e){return D(on(e))};k.destroyAll=function(){for(;O.length;){var e=O.pop();e&&e()}};k.install=function(n){return n.component(k.name,k),n};const ln={class:"page-raidseason"},rn={key:0},cn=W({__name:"RaidSeason",setup(n){const e=Me({tableLoading:!1,modelVisible:!1,modelTitle:"",modelTableDataSource:new Array}),g=w([]),s=w([{title:"突袭发起时间",dataIndex:"raidStartTime",align:"center"},{title:"突袭结束时间",dataIndex:"raidEndTime",align:"center"},{title:"状态",dataIndex:"state",align:"center"},{title:"总进攻次数",dataIndex:"totalAttacks",align:"center"},{title:"突袭完成次数",dataIndex:"raidsCompleted",align:"center"},{title:"参与成员",align:"center",key:"inMember",customRender(u){return`${u.value.members.length}人`}},{title:"未参与成员",align:"center",key:"outMember",customRender(u){var d;return`${(d=u.value.noAttackMembers)==null?void 0:d.length}人`??"--"}},{title:"操作",fixed:"right",align:"center",key:"action"}]),o=w();de(()=>x());function x(){e.tableLoading=!0,Ue.get("/clash/raids").then(({data:u})=>{g.value=u}).finally(()=>e.tableLoading=!1)}function m(u,d){console.log("data",d),e.modelVisible=!0,e.modelTitle=u,u==="参赛成员"?(e.modelTableDataSource=d.members,o.value=[{title:"排名",align:"center",width:500,customRender(v){return v.index+1}},{title:"成员名称",dataIndex:"name",align:"center",width:600},{title:"进攻次数",dataIndex:"attacks",align:"center",width:500},{title:"战绩",dataIndex:"capitalResourcesLooted",align:"center",width:500}]):u==="未参赛成员"&&(e.modelTableDataSource=d.noAttackMembers,o.value=[{title:"标签",dataIndex:"tag",align:"center"},{title:"成员名称",dataIndex:"name",align:"center"}])}return(u,d)=>{const v=V,i=qe,a=k;return te(),ne("div",ln,[l(i,{dataSource:h(g),loading:h(e).tableLoading,columns:h(s)},{bodyCell:E(({column:c,record:r})=>[c.key==="action"?(te(),ne("span",rn,[l(v,{style:{margin:"5px"},onClick:f=>m("参赛成员",r)},{default:E(()=>[ae("参赛成员")]),_:2},1032,["onClick"]),l(v,{style:{margin:"5px"},onClick:f=>m("未参赛成员",r)},{default:E(()=>[ae("未参赛成员")]),_:2},1032,["onClick"])])):ze("",!0)]),_:1},8,["dataSource","loading","columns"]),l(a,{visible:h(e).modelVisible,"onUpdate:visible":d[0]||(d[0]=c=>h(e).modelVisible=c),title:h(e).modelTitle},{default:E(()=>[l(i,{"data-source":h(e).modelTableDataSource,columns:h(o),size:"small",pagination:{pageSize:50}},null,8,["data-source","columns"])]),_:1},8,["visible","title"])])}}});typeof oe=="function"&&oe(cn);export{cn as default};
